require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(process){(function(){"use strict";function lib$rsvp$utils$$objectOrFunction(x){return"function"==typeof x||"object"==typeof x&&null!==x}function lib$rsvp$utils$$isFunction(x){return"function"==typeof x}function lib$rsvp$utils$$isMaybeThenable(x){return"object"==typeof x&&null!==x}function lib$rsvp$utils$$F(){}function lib$rsvp$events$$indexOf(callbacks,callback){for(var i=0,l=callbacks.length;l>i;i++)if(callbacks[i]===callback)return i;return-1}function lib$rsvp$events$$callbacksFor(object){var callbacks=object._promiseCallbacks;return callbacks||(callbacks=object._promiseCallbacks={}),callbacks}function lib$rsvp$config$$configure(name,value){return"onerror"===name?void lib$rsvp$config$$config.on("error",value):2!==arguments.length?lib$rsvp$config$$config[name]:void(lib$rsvp$config$$config[name]=value)}function lib$rsvp$instrument$$scheduleFlush(){setTimeout(function(){for(var entry,i=0;i<lib$rsvp$instrument$$queue.length;i++){entry=lib$rsvp$instrument$$queue[i];var payload=entry.payload;payload.guid=payload.key+payload.id,payload.childGuid=payload.key+payload.childId,payload.error&&(payload.stack=payload.error.stack),lib$rsvp$config$$config.trigger(entry.name,entry.payload)}lib$rsvp$instrument$$queue.length=0},50)}function lib$rsvp$instrument$$instrument(eventName,promise,child){1===lib$rsvp$instrument$$queue.push({name:eventName,payload:{key:promise._guidKey,id:promise._id,eventName:eventName,detail:promise._result,childId:child&&child._id,label:promise._label,timeStamp:lib$rsvp$utils$$now(),error:lib$rsvp$config$$config["instrument-with-stack"]?new Error(promise._label):null}})&&lib$rsvp$instrument$$scheduleFlush()}function lib$rsvp$$internal$$withOwnPromise(){return new TypeError("A promises callback cannot return that same promise.")}function lib$rsvp$$internal$$noop(){}function lib$rsvp$$internal$$getThen(promise){try{return promise.then}catch(error){return lib$rsvp$$internal$$GET_THEN_ERROR.error=error,lib$rsvp$$internal$$GET_THEN_ERROR}}function lib$rsvp$$internal$$tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function lib$rsvp$$internal$$handleForeignThenable(promise,thenable,then){lib$rsvp$config$$config.async(function(promise){var sealed=!1,error=lib$rsvp$$internal$$tryThen(then,thenable,function(value){sealed||(sealed=!0,thenable!==value?lib$rsvp$$internal$$resolve(promise,value):lib$rsvp$$internal$$fulfill(promise,value))},function(reason){sealed||(sealed=!0,lib$rsvp$$internal$$reject(promise,reason))},"Settle: "+(promise._label||" unknown promise"));!sealed&&error&&(sealed=!0,lib$rsvp$$internal$$reject(promise,error))},promise)}function lib$rsvp$$internal$$handleOwnThenable(promise,thenable){thenable._state===lib$rsvp$$internal$$FULFILLED?lib$rsvp$$internal$$fulfill(promise,thenable._result):thenable._state===lib$rsvp$$internal$$REJECTED?(thenable._onError=null,lib$rsvp$$internal$$reject(promise,thenable._result)):lib$rsvp$$internal$$subscribe(thenable,void 0,function(value){thenable!==value?lib$rsvp$$internal$$resolve(promise,value):lib$rsvp$$internal$$fulfill(promise,value)},function(reason){lib$rsvp$$internal$$reject(promise,reason)})}function lib$rsvp$$internal$$handleMaybeThenable(promise,maybeThenable){if(maybeThenable.constructor===promise.constructor)lib$rsvp$$internal$$handleOwnThenable(promise,maybeThenable);else{var then=lib$rsvp$$internal$$getThen(maybeThenable);then===lib$rsvp$$internal$$GET_THEN_ERROR?lib$rsvp$$internal$$reject(promise,lib$rsvp$$internal$$GET_THEN_ERROR.error):void 0===then?lib$rsvp$$internal$$fulfill(promise,maybeThenable):lib$rsvp$utils$$isFunction(then)?lib$rsvp$$internal$$handleForeignThenable(promise,maybeThenable,then):lib$rsvp$$internal$$fulfill(promise,maybeThenable)}}function lib$rsvp$$internal$$resolve(promise,value){promise===value?lib$rsvp$$internal$$fulfill(promise,value):lib$rsvp$utils$$objectOrFunction(value)?lib$rsvp$$internal$$handleMaybeThenable(promise,value):lib$rsvp$$internal$$fulfill(promise,value)}function lib$rsvp$$internal$$publishRejection(promise){promise._onError&&promise._onError(promise._result),lib$rsvp$$internal$$publish(promise)}function lib$rsvp$$internal$$fulfill(promise,value){promise._state===lib$rsvp$$internal$$PENDING&&(promise._result=value,promise._state=lib$rsvp$$internal$$FULFILLED,0===promise._subscribers.length?lib$rsvp$config$$config.instrument&&lib$rsvp$instrument$$default("fulfilled",promise):lib$rsvp$config$$config.async(lib$rsvp$$internal$$publish,promise))}function lib$rsvp$$internal$$reject(promise,reason){promise._state===lib$rsvp$$internal$$PENDING&&(promise._state=lib$rsvp$$internal$$REJECTED,promise._result=reason,lib$rsvp$config$$config.async(lib$rsvp$$internal$$publishRejection,promise))}function lib$rsvp$$internal$$subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers,length=subscribers.length;parent._onError=null,subscribers[length]=child,subscribers[length+lib$rsvp$$internal$$FULFILLED]=onFulfillment,subscribers[length+lib$rsvp$$internal$$REJECTED]=onRejection,0===length&&parent._state&&lib$rsvp$config$$config.async(lib$rsvp$$internal$$publish,parent)}function lib$rsvp$$internal$$publish(promise){var subscribers=promise._subscribers,settled=promise._state;if(lib$rsvp$config$$config.instrument&&lib$rsvp$instrument$$default(settled===lib$rsvp$$internal$$FULFILLED?"fulfilled":"rejected",promise),0!==subscribers.length){for(var child,callback,detail=promise._result,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],child?lib$rsvp$$internal$$invokeCallback(settled,child,callback,detail):callback(detail);promise._subscribers.length=0}}function lib$rsvp$$internal$$ErrorObject(){this.error=null}function lib$rsvp$$internal$$tryCatch(callback,detail){try{return callback(detail)}catch(e){return lib$rsvp$$internal$$TRY_CATCH_ERROR.error=e,lib$rsvp$$internal$$TRY_CATCH_ERROR}}function lib$rsvp$$internal$$invokeCallback(settled,promise,callback,detail){var value,error,succeeded,failed,hasCallback=lib$rsvp$utils$$isFunction(callback);if(hasCallback){if(value=lib$rsvp$$internal$$tryCatch(callback,detail),value===lib$rsvp$$internal$$TRY_CATCH_ERROR?(failed=!0,error=value.error,value=null):succeeded=!0,promise===value)return void lib$rsvp$$internal$$reject(promise,lib$rsvp$$internal$$withOwnPromise())}else value=detail,succeeded=!0;promise._state!==lib$rsvp$$internal$$PENDING||(hasCallback&&succeeded?lib$rsvp$$internal$$resolve(promise,value):failed?lib$rsvp$$internal$$reject(promise,error):settled===lib$rsvp$$internal$$FULFILLED?lib$rsvp$$internal$$fulfill(promise,value):settled===lib$rsvp$$internal$$REJECTED&&lib$rsvp$$internal$$reject(promise,value))}function lib$rsvp$$internal$$initializePromise(promise,resolver){var resolved=!1;try{resolver(function(value){resolved||(resolved=!0,lib$rsvp$$internal$$resolve(promise,value))},function(reason){resolved||(resolved=!0,lib$rsvp$$internal$$reject(promise,reason))})}catch(e){lib$rsvp$$internal$$reject(promise,e)}}function lib$rsvp$enumerator$$makeSettledResult(state,position,value){return state===lib$rsvp$$internal$$FULFILLED?{state:"fulfilled",value:value}:{state:"rejected",reason:value}}function lib$rsvp$enumerator$$Enumerator(Constructor,input,abortOnReject,label){this._instanceConstructor=Constructor,this.promise=new Constructor(lib$rsvp$$internal$$noop,label),this._abortOnReject=abortOnReject,this._validateInput(input)?(this._input=input,this.length=input.length,this._remaining=input.length,this._init(),0===this.length?lib$rsvp$$internal$$fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&lib$rsvp$$internal$$fulfill(this.promise,this._result))):lib$rsvp$$internal$$reject(this.promise,this._validationError())}function lib$rsvp$promise$all$$all(entries,label){return new lib$rsvp$enumerator$$default(this,entries,!0,label).promise}function lib$rsvp$promise$race$$race(entries,label){function onFulfillment(value){lib$rsvp$$internal$$resolve(promise,value)}function onRejection(reason){lib$rsvp$$internal$$reject(promise,reason)}var Constructor=this,promise=new Constructor(lib$rsvp$$internal$$noop,label);if(!lib$rsvp$utils$$isArray(entries))return lib$rsvp$$internal$$reject(promise,new TypeError("You must pass an array to race.")),promise;for(var length=entries.length,i=0;promise._state===lib$rsvp$$internal$$PENDING&&length>i;i++)lib$rsvp$$internal$$subscribe(Constructor.resolve(entries[i]),void 0,onFulfillment,onRejection);return promise}function lib$rsvp$promise$resolve$$resolve(object,label){var Constructor=this;if(object&&"object"==typeof object&&object.constructor===Constructor)return object;var promise=new Constructor(lib$rsvp$$internal$$noop,label);return lib$rsvp$$internal$$resolve(promise,object),promise}function lib$rsvp$promise$reject$$reject(reason,label){var Constructor=this,promise=new Constructor(lib$rsvp$$internal$$noop,label);return lib$rsvp$$internal$$reject(promise,reason),promise}function lib$rsvp$promise$$needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lib$rsvp$promise$$needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function lib$rsvp$promise$$Promise(resolver,label){this._id=lib$rsvp$promise$$counter++,this._label=label,this._state=void 0,this._result=void 0,this._subscribers=[],lib$rsvp$config$$config.instrument&&lib$rsvp$instrument$$default("created",this),lib$rsvp$$internal$$noop!==resolver&&(lib$rsvp$utils$$isFunction(resolver)||lib$rsvp$promise$$needsResolver(),this instanceof lib$rsvp$promise$$Promise||lib$rsvp$promise$$needsNew(),lib$rsvp$$internal$$initializePromise(this,resolver))}function lib$rsvp$all$settled$$AllSettled(Constructor,entries,label){this._superConstructor(Constructor,entries,!1,label)}function lib$rsvp$all$settled$$allSettled(entries,label){return new lib$rsvp$all$settled$$AllSettled(lib$rsvp$promise$$default,entries,label).promise}function lib$rsvp$all$$all(array,label){return lib$rsvp$promise$$default.all(array,label)}function lib$rsvp$asap$$asap(callback,arg){lib$rsvp$asap$$queue[lib$rsvp$asap$$len]=callback,lib$rsvp$asap$$queue[lib$rsvp$asap$$len+1]=arg,lib$rsvp$asap$$len+=2,2===lib$rsvp$asap$$len&&lib$rsvp$asap$$scheduleFlush()}function lib$rsvp$asap$$useNextTick(){var nextTick=process.nextTick,version=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(version)&&"0"===version[1]&&"10"===version[2]&&(nextTick=setImmediate),function(){nextTick(lib$rsvp$asap$$flush)}}function lib$rsvp$asap$$useVertxTimer(){return function(){lib$rsvp$asap$$vertxNext(lib$rsvp$asap$$flush)}}function lib$rsvp$asap$$useMutationObserver(){var iterations=0,observer=new lib$rsvp$asap$$BrowserMutationObserver(lib$rsvp$asap$$flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}function lib$rsvp$asap$$useMessageChannel(){var channel=new MessageChannel;return channel.port1.onmessage=lib$rsvp$asap$$flush,function(){channel.port2.postMessage(0)}}function lib$rsvp$asap$$useSetTimeout(){return function(){setTimeout(lib$rsvp$asap$$flush,1)}}function lib$rsvp$asap$$flush(){for(var i=0;lib$rsvp$asap$$len>i;i+=2){var callback=lib$rsvp$asap$$queue[i],arg=lib$rsvp$asap$$queue[i+1];callback(arg),lib$rsvp$asap$$queue[i]=void 0,lib$rsvp$asap$$queue[i+1]=void 0}lib$rsvp$asap$$len=0}function lib$rsvp$asap$$attemptVertex(){try{var r=require,vertx=r("vertx");return lib$rsvp$asap$$vertxNext=vertx.runOnLoop||vertx.runOnContext,lib$rsvp$asap$$useVertxTimer()}catch(e){return lib$rsvp$asap$$useSetTimeout()}}function lib$rsvp$defer$$defer(label){var deferred={};return deferred.promise=new lib$rsvp$promise$$default(function(resolve,reject){deferred.resolve=resolve,deferred.reject=reject},label),deferred}function lib$rsvp$filter$$filter(promises,filterFn,label){return lib$rsvp$promise$$default.all(promises,label).then(function(values){if(!lib$rsvp$utils$$isFunction(filterFn))throw new TypeError("You must pass a function as filter's second argument.");for(var length=values.length,filtered=new Array(length),i=0;length>i;i++)filtered[i]=filterFn(values[i]);return lib$rsvp$promise$$default.all(filtered,label).then(function(filtered){for(var results=new Array(length),newLength=0,i=0;length>i;i++)filtered[i]&&(results[newLength]=values[i],newLength++);return results.length=newLength,results})})}function lib$rsvp$promise$hash$$PromiseHash(Constructor,object,label){this._superConstructor(Constructor,object,!0,label)}function lib$rsvp$hash$settled$$HashSettled(Constructor,object,label){this._superConstructor(Constructor,object,!1,label)}function lib$rsvp$hash$settled$$hashSettled(object,label){return new lib$rsvp$hash$settled$$HashSettled(lib$rsvp$promise$$default,object,label).promise}function lib$rsvp$hash$$hash(object,label){return new lib$rsvp$promise$hash$$default(lib$rsvp$promise$$default,object,label).promise}function lib$rsvp$map$$map(promises,mapFn,label){return lib$rsvp$promise$$default.all(promises,label).then(function(values){if(!lib$rsvp$utils$$isFunction(mapFn))throw new TypeError("You must pass a function as map's second argument.");for(var length=values.length,results=new Array(length),i=0;length>i;i++)results[i]=mapFn(values[i]);return lib$rsvp$promise$$default.all(results,label)})}function lib$rsvp$node$$Result(){this.value=void 0}function lib$rsvp$node$$getThen(obj){try{return obj.then}catch(error){return lib$rsvp$node$$ERROR.value=error,lib$rsvp$node$$ERROR}}function lib$rsvp$node$$tryApply(f,s,a){try{f.apply(s,a)}catch(error){return lib$rsvp$node$$ERROR.value=error,lib$rsvp$node$$ERROR}}function lib$rsvp$node$$makeObject(_,argumentNames){for(var name,i,obj={},length=_.length,args=new Array(length),x=0;length>x;x++)args[x]=_[x];for(i=0;i<argumentNames.length;i++)name=argumentNames[i],obj[name]=args[i+1];return obj}function lib$rsvp$node$$arrayResult(_){for(var length=_.length,args=new Array(length-1),i=1;length>i;i++)args[i-1]=_[i];return args}function lib$rsvp$node$$wrapThenable(then,promise){return{then:function(onFulFillment,onRejection){return then.call(promise,onFulFillment,onRejection)}}}function lib$rsvp$node$$denodeify(nodeFunc,options){var fn=function(){for(var arg,self=this,l=arguments.length,args=new Array(l+1),promiseInput=!1,i=0;l>i;++i){if(arg=arguments[i],!promiseInput){if(promiseInput=lib$rsvp$node$$needsPromiseInput(arg),promiseInput===lib$rsvp$node$$GET_THEN_ERROR){var p=new lib$rsvp$promise$$default(lib$rsvp$$internal$$noop);return lib$rsvp$$internal$$reject(p,lib$rsvp$node$$GET_THEN_ERROR.value),p}promiseInput&&promiseInput!==!0&&(arg=lib$rsvp$node$$wrapThenable(promiseInput,arg))}args[i]=arg}var promise=new lib$rsvp$promise$$default(lib$rsvp$$internal$$noop);return args[l]=function(err,val){err?lib$rsvp$$internal$$reject(promise,err):void 0===options?lib$rsvp$$internal$$resolve(promise,val):options===!0?lib$rsvp$$internal$$resolve(promise,lib$rsvp$node$$arrayResult(arguments)):lib$rsvp$utils$$isArray(options)?lib$rsvp$$internal$$resolve(promise,lib$rsvp$node$$makeObject(arguments,options)):lib$rsvp$$internal$$resolve(promise,val)},promiseInput?lib$rsvp$node$$handlePromiseInput(promise,args,nodeFunc,self):lib$rsvp$node$$handleValueInput(promise,args,nodeFunc,self)};return fn.__proto__=nodeFunc,fn}function lib$rsvp$node$$handleValueInput(promise,args,nodeFunc,self){var result=lib$rsvp$node$$tryApply(nodeFunc,self,args);return result===lib$rsvp$node$$ERROR&&lib$rsvp$$internal$$reject(promise,result.value),promise}function lib$rsvp$node$$handlePromiseInput(promise,args,nodeFunc,self){return lib$rsvp$promise$$default.all(args).then(function(args){var result=lib$rsvp$node$$tryApply(nodeFunc,self,args);return result===lib$rsvp$node$$ERROR&&lib$rsvp$$internal$$reject(promise,result.value),promise})}function lib$rsvp$node$$needsPromiseInput(arg){return arg&&"object"==typeof arg?arg.constructor===lib$rsvp$promise$$default?!0:lib$rsvp$node$$getThen(arg):!1}function lib$rsvp$race$$race(array,label){return lib$rsvp$promise$$default.race(array,label)}function lib$rsvp$reject$$reject(reason,label){return lib$rsvp$promise$$default.reject(reason,label)}function lib$rsvp$resolve$$resolve(value,label){return lib$rsvp$promise$$default.resolve(value,label)}function lib$rsvp$rethrow$$rethrow(reason){throw setTimeout(function(){throw reason}),reason}function lib$rsvp$$async(callback,arg){lib$rsvp$config$$config.async(callback,arg)}function lib$rsvp$$on(){lib$rsvp$config$$config.on.apply(lib$rsvp$config$$config,arguments)}function lib$rsvp$$off(){lib$rsvp$config$$config.off.apply(lib$rsvp$config$$config,arguments)}var lib$rsvp$utils$$_isArray;lib$rsvp$utils$$_isArray=Array.isArray?Array.isArray:function(x){return"[object Array]"===Object.prototype.toString.call(x)};var lib$rsvp$utils$$isArray=lib$rsvp$utils$$_isArray,lib$rsvp$utils$$now=Date.now||function(){return(new Date).getTime()},lib$rsvp$utils$$o_create=Object.create||function(o){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof o)throw new TypeError("Argument must be an object");return lib$rsvp$utils$$F.prototype=o,new lib$rsvp$utils$$F},lib$rsvp$events$$default={mixin:function(object){return object.on=this.on,object.off=this.off,object.trigger=this.trigger,object._promiseCallbacks=void 0,object},on:function(eventName,callback){var callbacks,allCallbacks=lib$rsvp$events$$callbacksFor(this);callbacks=allCallbacks[eventName],callbacks||(callbacks=allCallbacks[eventName]=[]),-1===lib$rsvp$events$$indexOf(callbacks,callback)&&callbacks.push(callback)},off:function(eventName,callback){var callbacks,index,allCallbacks=lib$rsvp$events$$callbacksFor(this);return callback?(callbacks=allCallbacks[eventName],index=lib$rsvp$events$$indexOf(callbacks,callback),void(-1!==index&&callbacks.splice(index,1))):void(allCallbacks[eventName]=[])},trigger:function(eventName,options){var callbacks,callback,allCallbacks=lib$rsvp$events$$callbacksFor(this);if(callbacks=allCallbacks[eventName])for(var i=0;i<callbacks.length;i++)(callback=callbacks[i])(options)}},lib$rsvp$config$$config={instrument:!1};lib$rsvp$events$$default.mixin(lib$rsvp$config$$config);var lib$rsvp$instrument$$queue=[],lib$rsvp$instrument$$default=lib$rsvp$instrument$$instrument,lib$rsvp$$internal$$PENDING=void 0,lib$rsvp$$internal$$FULFILLED=1,lib$rsvp$$internal$$REJECTED=2,lib$rsvp$$internal$$GET_THEN_ERROR=new lib$rsvp$$internal$$ErrorObject,lib$rsvp$$internal$$TRY_CATCH_ERROR=new lib$rsvp$$internal$$ErrorObject,lib$rsvp$enumerator$$default=lib$rsvp$enumerator$$Enumerator;lib$rsvp$enumerator$$Enumerator.prototype._validateInput=function(input){return lib$rsvp$utils$$isArray(input)},lib$rsvp$enumerator$$Enumerator.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},lib$rsvp$enumerator$$Enumerator.prototype._init=function(){this._result=new Array(this.length)},lib$rsvp$enumerator$$Enumerator.prototype._enumerate=function(){for(var length=this.length,promise=this.promise,input=this._input,i=0;promise._state===lib$rsvp$$internal$$PENDING&&length>i;i++)this._eachEntry(input[i],i)},lib$rsvp$enumerator$$Enumerator.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor;lib$rsvp$utils$$isMaybeThenable(entry)?entry.constructor===c&&entry._state!==lib$rsvp$$internal$$PENDING?(entry._onError=null,this._settledAt(entry._state,i,entry._result)):this._willSettleAt(c.resolve(entry),i):(this._remaining--,this._result[i]=this._makeResult(lib$rsvp$$internal$$FULFILLED,i,entry))},lib$rsvp$enumerator$$Enumerator.prototype._settledAt=function(state,i,value){var promise=this.promise;promise._state===lib$rsvp$$internal$$PENDING&&(this._remaining--,this._abortOnReject&&state===lib$rsvp$$internal$$REJECTED?lib$rsvp$$internal$$reject(promise,value):this._result[i]=this._makeResult(state,i,value)),0===this._remaining&&lib$rsvp$$internal$$fulfill(promise,this._result)},lib$rsvp$enumerator$$Enumerator.prototype._makeResult=function(state,i,value){return value},lib$rsvp$enumerator$$Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;lib$rsvp$$internal$$subscribe(promise,void 0,function(value){enumerator._settledAt(lib$rsvp$$internal$$FULFILLED,i,value)},function(reason){enumerator._settledAt(lib$rsvp$$internal$$REJECTED,i,reason)})};var lib$rsvp$promise$all$$default=lib$rsvp$promise$all$$all,lib$rsvp$promise$race$$default=lib$rsvp$promise$race$$race,lib$rsvp$promise$resolve$$default=lib$rsvp$promise$resolve$$resolve,lib$rsvp$promise$reject$$default=lib$rsvp$promise$reject$$reject,lib$rsvp$promise$$guidKey="rsvp_"+lib$rsvp$utils$$now()+"-",lib$rsvp$promise$$counter=0,lib$rsvp$promise$$default=lib$rsvp$promise$$Promise;lib$rsvp$promise$$Promise.cast=lib$rsvp$promise$resolve$$default,lib$rsvp$promise$$Promise.all=lib$rsvp$promise$all$$default,lib$rsvp$promise$$Promise.race=lib$rsvp$promise$race$$default,lib$rsvp$promise$$Promise.resolve=lib$rsvp$promise$resolve$$default,lib$rsvp$promise$$Promise.reject=lib$rsvp$promise$reject$$default,lib$rsvp$promise$$Promise.prototype={constructor:lib$rsvp$promise$$Promise,_guidKey:lib$rsvp$promise$$guidKey,_onError:function(reason){lib$rsvp$config$$config.async(function(promise){setTimeout(function(){promise._onError&&lib$rsvp$config$$config.trigger("error",reason)},0)},this)},then:function(onFulfillment,onRejection,label){var parent=this,state=parent._state;if(state===lib$rsvp$$internal$$FULFILLED&&!onFulfillment||state===lib$rsvp$$internal$$REJECTED&&!onRejection)return lib$rsvp$config$$config.instrument&&lib$rsvp$instrument$$default("chained",this,this),this;parent._onError=null;var child=new this.constructor(lib$rsvp$$internal$$noop,label),result=parent._result;if(lib$rsvp$config$$config.instrument&&lib$rsvp$instrument$$default("chained",parent,child),state){var callback=arguments[state-1];lib$rsvp$config$$config.async(function(){lib$rsvp$$internal$$invokeCallback(state,child,callback,result)})}else lib$rsvp$$internal$$subscribe(parent,child,onFulfillment,onRejection);return child},"catch":function(onRejection,label){return this.then(null,onRejection,label)},"finally":function(callback,label){var constructor=this.constructor;return this.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){throw reason})},label)}},lib$rsvp$all$settled$$AllSettled.prototype=lib$rsvp$utils$$o_create(lib$rsvp$enumerator$$default.prototype),lib$rsvp$all$settled$$AllSettled.prototype._superConstructor=lib$rsvp$enumerator$$default,lib$rsvp$all$settled$$AllSettled.prototype._makeResult=lib$rsvp$enumerator$$makeSettledResult,lib$rsvp$all$settled$$AllSettled.prototype._validationError=function(){return new Error("allSettled must be called with an array")};var lib$rsvp$asap$$vertxNext,lib$rsvp$asap$$scheduleFlush,lib$rsvp$all$settled$$default=lib$rsvp$all$settled$$allSettled,lib$rsvp$all$$default=lib$rsvp$all$$all,lib$rsvp$asap$$len=0,lib$rsvp$asap$$default=({}.toString,lib$rsvp$asap$$asap),lib$rsvp$asap$$browserWindow="undefined"!=typeof window?window:void 0,lib$rsvp$asap$$browserGlobal=lib$rsvp$asap$$browserWindow||{},lib$rsvp$asap$$BrowserMutationObserver=lib$rsvp$asap$$browserGlobal.MutationObserver||lib$rsvp$asap$$browserGlobal.WebKitMutationObserver,lib$rsvp$asap$$isNode="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),lib$rsvp$asap$$isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,lib$rsvp$asap$$queue=new Array(1e3);lib$rsvp$asap$$scheduleFlush=lib$rsvp$asap$$isNode?lib$rsvp$asap$$useNextTick():lib$rsvp$asap$$BrowserMutationObserver?lib$rsvp$asap$$useMutationObserver():lib$rsvp$asap$$isWorker?lib$rsvp$asap$$useMessageChannel():void 0===lib$rsvp$asap$$browserWindow&&"function"==typeof require?lib$rsvp$asap$$attemptVertex():lib$rsvp$asap$$useSetTimeout();var lib$rsvp$defer$$default=lib$rsvp$defer$$defer,lib$rsvp$filter$$default=lib$rsvp$filter$$filter,lib$rsvp$promise$hash$$default=lib$rsvp$promise$hash$$PromiseHash;lib$rsvp$promise$hash$$PromiseHash.prototype=lib$rsvp$utils$$o_create(lib$rsvp$enumerator$$default.prototype),lib$rsvp$promise$hash$$PromiseHash.prototype._superConstructor=lib$rsvp$enumerator$$default,lib$rsvp$promise$hash$$PromiseHash.prototype._init=function(){this._result={}},lib$rsvp$promise$hash$$PromiseHash.prototype._validateInput=function(input){return input&&"object"==typeof input},lib$rsvp$promise$hash$$PromiseHash.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},lib$rsvp$promise$hash$$PromiseHash.prototype._enumerate=function(){var promise=this.promise,input=this._input,results=[];for(var key in input)promise._state===lib$rsvp$$internal$$PENDING&&Object.prototype.hasOwnProperty.call(input,key)&&results.push({position:key,entry:input[key]});var length=results.length;this._remaining=length;for(var result,i=0;promise._state===lib$rsvp$$internal$$PENDING&&length>i;i++)result=results[i],this._eachEntry(result.entry,result.position)},lib$rsvp$hash$settled$$HashSettled.prototype=lib$rsvp$utils$$o_create(lib$rsvp$promise$hash$$default.prototype),lib$rsvp$hash$settled$$HashSettled.prototype._superConstructor=lib$rsvp$enumerator$$default,lib$rsvp$hash$settled$$HashSettled.prototype._makeResult=lib$rsvp$enumerator$$makeSettledResult,lib$rsvp$hash$settled$$HashSettled.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var lib$rsvp$hash$settled$$default=lib$rsvp$hash$settled$$hashSettled,lib$rsvp$hash$$default=lib$rsvp$hash$$hash,lib$rsvp$map$$default=lib$rsvp$map$$map,lib$rsvp$node$$ERROR=new lib$rsvp$node$$Result,lib$rsvp$node$$GET_THEN_ERROR=new lib$rsvp$node$$Result,lib$rsvp$node$$default=lib$rsvp$node$$denodeify,lib$rsvp$race$$default=lib$rsvp$race$$race,lib$rsvp$reject$$default=lib$rsvp$reject$$reject,lib$rsvp$resolve$$default=lib$rsvp$resolve$$resolve,lib$rsvp$rethrow$$default=lib$rsvp$rethrow$$rethrow;lib$rsvp$config$$config.async=lib$rsvp$asap$$default;if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var lib$rsvp$$callbacks=window.__PROMISE_INSTRUMENTATION__;lib$rsvp$config$$configure("instrument",!0);for(var lib$rsvp$$eventName in lib$rsvp$$callbacks)lib$rsvp$$callbacks.hasOwnProperty(lib$rsvp$$eventName)&&lib$rsvp$$on(lib$rsvp$$eventName,lib$rsvp$$callbacks[lib$rsvp$$eventName])}var lib$rsvp$umd$$RSVP={race:lib$rsvp$race$$default,Promise:lib$rsvp$promise$$default,allSettled:lib$rsvp$all$settled$$default,hash:lib$rsvp$hash$$default,hashSettled:lib$rsvp$hash$settled$$default,denodeify:lib$rsvp$node$$default,on:lib$rsvp$$on,off:lib$rsvp$$off,map:lib$rsvp$map$$default,filter:lib$rsvp$filter$$default,resolve:lib$rsvp$resolve$$default,reject:lib$rsvp$reject$$default,all:lib$rsvp$all$$default,rethrow:lib$rsvp$rethrow$$default,defer:lib$rsvp$defer$$default,EventTarget:lib$rsvp$events$$default,configure:lib$rsvp$config$$configure,async:lib$rsvp$$async};"function"==typeof define&&define.amd?define(function(){return lib$rsvp$umd$$RSVP}):"undefined"!=typeof module&&module.exports?module.exports=lib$rsvp$umd$$RSVP:"undefined"!=typeof this&&(this.RSVP=lib$rsvp$umd$$RSVP)}).call(this)}).call(this,require("_process"))},{_process:5}],2:[function(require,module,exports){function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function getXHR(){if(root.XMLHttpRequest&&("file:"!=root.location.protocol||!root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1}function isObject(obj){return obj===Object(obj)}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj)null!=obj[key]&&pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]));return pairs.join("&")}function parseString(str){for(var parts,pair,obj={},pairs=str.split("&"),i=0,len=pairs.length;len>i;++i)pair=pairs[i],parts=pair.split("="),obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1]);return obj}function parseHeader(str){var index,line,field,val,lines=str.split(/\r?\n/),fields={};lines.pop();for(var i=0,len=lines.length;len>i;++i)line=lines[i],index=line.indexOf(":"),field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val;return fields}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})}function Response(req,options){options=options||{},this.req=req,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function Request(method,url){var self=this;Emitter.call(this),this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){try{var res=new Response(self);"HEAD"==method&&(res.text=null),self.callback(null,res)}catch(e){var err=new Error("Parser is unable to parse the response");err.parse=!0,err.original=e,self.callback(err)}})}function request(method,url){return"function"==typeof url?new Request("GET",method).end(url):1==arguments.length?new Request("GET",method):new Request(method,url)}var Emitter=require("emitter"),reduce=require("reduce"),root="undefined"==typeof window?this:window,trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(field){return this.header[field.toLowerCase()]},Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]},Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return parse&&str&&str.length?parse(str):null},Response.prototype.setStatusProperties=function(status){var type=status/100|0;this.status=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.clientError=4==type,this.serverError=5==type,this.error=4==type||5==type?this.toError():!1,this.accepted=202==status,this.noContent=204==status||1223==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.notFound=404==status,this.forbidden=403==status},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg="cannot "+method+" "+url+" ("+this.status+")",err=new Error(msg);

return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,Emitter(Request.prototype),Request.prototype.use=function(fn){return fn(this),this},Request.prototype.timeout=function(ms){return this._timeout=ms,this},Request.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},Request.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},Request.prototype.set=function(field,val){if(isObject(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},Request.prototype.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},Request.prototype.getHeader=function(field){return this._header[field.toLowerCase()]},Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass){var str=btoa(user+":"+pass);return this.set("Authorization","Basic "+str),this},Request.prototype.query=function(val){return"string"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.field=function(name,val){return this._formData||(this._formData=new FormData),this._formData.append(name,val),this},Request.prototype.attach=function(field,file,filename){return this._formData||(this._formData=new FormData),this._formData.append(field,file,filename),this},Request.prototype.send=function(data){var obj=isObject(data),type=this.getHeader("Content-Type");if(obj&&isObject(this._data))for(var key in data)this._data[key]=data[key];else"string"==typeof data?(type||this.type("form"),type=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==type?this._data=this._data?this._data+"&"+data:data:this._data=(this._data||"")+data):this._data=data;return obj?(type||this.type("json"),this):this},Request.prototype.callback=function(err,res){var fn=this._callback;return 2==fn.length?fn(err,res):err?this.emit("error",err):void fn(res)},Request.prototype.crossDomainError=function(){var err=new Error("Origin is not allowed by Access-Control-Allow-Origin");err.crossDomain=!0,this.callback(err)},Request.prototype.timeoutError=function(){var timeout=this._timeout,err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout,this.callback(err)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(fn){var self=this,xhr=this.xhr=getXHR(),query=this._query.join("&"),timeout=this._timeout,data=this._formData||this._data;if(this._callback=fn||noop,xhr.onreadystatechange=function(){return 4==xhr.readyState?0==xhr.status?self.aborted?self.timeoutError():self.crossDomainError():void self.emit("end"):void 0},xhr.upload&&(xhr.upload.onprogress=function(e){e.percent=e.loaded/e.total*100,self.emit("progress",e)}),timeout&&!this._timer&&(this._timer=setTimeout(function(){self.abort()},timeout)),query&&(query=request.serializeObject(query),this.url+=~this.url.indexOf("?")?"&"+query:"?"+query),xhr.open(this.method,this.url,!0),this._withCredentials&&(xhr.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var serialize=request.serialize[this.getHeader("Content-Type")];serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&xhr.setRequestHeader(field,this.header[field]);return this.emit("request",this),xhr.send(data),this},request.Request=Request,request.get=function(url,data,fn){var req=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=function(url,fn){var req=request("DELETE",url);return fn&&req.end(fn),req},request.patch=function(url,data,fn){var req=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request("POST",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},module.exports=request},{emitter:3,reduce:4}],3:[function(require,module,exports){function Emitter(obj){return obj?mixin(obj):void 0}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[event]=this._callbacks[event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){self.off(event,on),fn.apply(this,arguments)}var self=this;return this._callbacks=this._callbacks||{},on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks[event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;len>i;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],4:[function(require,module,exports){module.exports=function(arr,fn,initial){for(var idx=0,len=arr.length,curr=3==arguments.length?initial:arr[idx++];len>idx;)curr=fn.call(null,curr,arr[idx],++idx,arr);return curr}},{}],5:[function(require,module,exports){function drainQueue(){if(!draining){draining=!0;for(var currentQueue,len=queue.length;len;){currentQueue=queue,queue=[];for(var i=-1;++i<len;)currentQueue[i]();len=queue.length}draining=!1}}function noop(){}var process=module.exports={},queue=[],draining=!1;process.nextTick=function(fun){queue.push(fun),draining||setTimeout(drainQueue,0)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],annie:[function(require,module,exports){var request=require("superagent"),RSVP=require("rsvp"),annie={options:{apiKey:"",apiUrl:"http://annie-node-1522.herokuapp.com/api"},init:function(){1==arguments.length&&"string"==typeof arguments[0]&&(this.options.apiKey=arguments[0],this._init=!0)},track:function(event,data){if(!this._init)return void console.error('Annie - apiKey not set, call init("YOUR-API-KEY") first!');data=data||{};var apiEndpoint=this.options.apiUrl+"/track",apiKey=this.options.apiKey;return new RSVP.Promise(function(resolve,reject){request.post(apiEndpoint).set("X-API-KEY",apiKey).send({event:event,data:data,timestamp:new Date}).end(function(err,res){resolve(res),reject(err)})})}};module.exports=annie},{rsvp:1,superagent:2}]},{},[]);